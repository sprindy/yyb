<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>nRF51822 Beacon Firmware Documentation: IntelHex Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">nRF51822 Beacon Firmware Documentation
   &#160;<span id="projectnumber">v1.1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classdfu_1_1intelhex_1_1_intel_hex.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Data Fields</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">IntelHex Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for IntelHex:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classdfu_1_1intelhex_1_1_intel_hex.png" usemap="#IntelHex_map" alt=""/>
  <map id="IntelHex_map" name="IntelHex_map">
<area href="classdfu_1_1intelhex_1_1_intel_hex16bit.html" alt="IntelHex16bit" shape="rect" coords="0,112,84,136"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac775ee34451fdfa742b318538164070e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#ac775ee34451fdfa742b318538164070e">__init__</a></td></tr>
<tr class="separator:ac775ee34451fdfa742b318538164070e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d503df24901cea36a18251f1b001745"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#a4d503df24901cea36a18251f1b001745">loadhex</a></td></tr>
<tr class="separator:a4d503df24901cea36a18251f1b001745"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad03b7cbb30f35aedeb71eb325c64f829"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#ad03b7cbb30f35aedeb71eb325c64f829">loadbin</a></td></tr>
<tr class="separator:ad03b7cbb30f35aedeb71eb325c64f829"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a6a932234ba78adfbb18ee6d0e61c4d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#a7a6a932234ba78adfbb18ee6d0e61c4d">loadfile</a></td></tr>
<tr class="separator:a7a6a932234ba78adfbb18ee6d0e61c4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af07863f9140d21592ff8db35eadbc7ca"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#af07863f9140d21592ff8db35eadbc7ca">fromdict</a></td></tr>
<tr class="separator:af07863f9140d21592ff8db35eadbc7ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac39aca6bed3b4daac01acdca06306737"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#ac39aca6bed3b4daac01acdca06306737">frombytes</a></td></tr>
<tr class="separator:ac39aca6bed3b4daac01acdca06306737"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5adf3f7270097b6191659b5cd2ce17af"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#a5adf3f7270097b6191659b5cd2ce17af">tobinarray</a></td></tr>
<tr class="separator:a5adf3f7270097b6191659b5cd2ce17af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace70d821ef8e8f2ed3b3a018656a43d9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#ace70d821ef8e8f2ed3b3a018656a43d9">tobinstr</a></td></tr>
<tr class="separator:ace70d821ef8e8f2ed3b3a018656a43d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e6018e85580741a5ece0b4a87c928f7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#a3e6018e85580741a5ece0b4a87c928f7">tobinfile</a></td></tr>
<tr class="separator:a3e6018e85580741a5ece0b4a87c928f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29a696fb3acb308710b690660f58cd10"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#a29a696fb3acb308710b690660f58cd10">todict</a></td></tr>
<tr class="separator:a29a696fb3acb308710b690660f58cd10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a995e3d3c10e12cac93579130adda4ef4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#a995e3d3c10e12cac93579130adda4ef4">addresses</a></td></tr>
<tr class="separator:a995e3d3c10e12cac93579130adda4ef4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c691485b93f788cacab382c75bc99e4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#a2c691485b93f788cacab382c75bc99e4">minaddr</a></td></tr>
<tr class="separator:a2c691485b93f788cacab382c75bc99e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5688c2a84fa75e426d2cc50ccf38031"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#ac5688c2a84fa75e426d2cc50ccf38031">maxaddr</a></td></tr>
<tr class="separator:ac5688c2a84fa75e426d2cc50ccf38031"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50d766f4276c3d8fe330ac8cd344a75f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#a50d766f4276c3d8fe330ac8cd344a75f">__getitem__</a></td></tr>
<tr class="separator:a50d766f4276c3d8fe330ac8cd344a75f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09195b01147e970ca71c48b57f653940"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#a09195b01147e970ca71c48b57f653940">__setitem__</a></td></tr>
<tr class="separator:a09195b01147e970ca71c48b57f653940"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fa6cfe34d7e2fe5b9c38e1d74fffac8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#a5fa6cfe34d7e2fe5b9c38e1d74fffac8">__delitem__</a></td></tr>
<tr class="separator:a5fa6cfe34d7e2fe5b9c38e1d74fffac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6412d48d9a71eac81e3195b52455aaa"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#af6412d48d9a71eac81e3195b52455aaa">__len__</a></td></tr>
<tr class="separator:af6412d48d9a71eac81e3195b52455aaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac226c9a74bcfa90f56f27220475633f0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#ac226c9a74bcfa90f56f27220475633f0">write_hex_file</a></td></tr>
<tr class="separator:ac226c9a74bcfa90f56f27220475633f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1d24406e4cd45762f3b7c723505cdec"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#ac1d24406e4cd45762f3b7c723505cdec">tofile</a></td></tr>
<tr class="separator:ac1d24406e4cd45762f3b7c723505cdec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab06ae80801ad09d624fb429c30df3c5f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#ab06ae80801ad09d624fb429c30df3c5f">gets</a></td></tr>
<tr class="separator:ab06ae80801ad09d624fb429c30df3c5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af718c4d56d0be5733023ec239d1fc6c1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#af718c4d56d0be5733023ec239d1fc6c1">puts</a></td></tr>
<tr class="separator:af718c4d56d0be5733023ec239d1fc6c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48c7ce714657007b92488238bb8955bb"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#a48c7ce714657007b92488238bb8955bb">getsz</a></td></tr>
<tr class="separator:a48c7ce714657007b92488238bb8955bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f580fe89d5bc3e80e959fe9fa345e55"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#a6f580fe89d5bc3e80e959fe9fa345e55">putsz</a></td></tr>
<tr class="separator:a6f580fe89d5bc3e80e959fe9fa345e55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8ef5e3fd7a86c440b3e5a6475bb63d9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#ab8ef5e3fd7a86c440b3e5a6475bb63d9">dump</a></td></tr>
<tr class="separator:ab8ef5e3fd7a86c440b3e5a6475bb63d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4daf9616d72762cca16513d1eea630fc"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#a4daf9616d72762cca16513d1eea630fc">merge</a></td></tr>
<tr class="separator:a4daf9616d72762cca16513d1eea630fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a617e63465d49ca090d265e7030dd1296"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#a617e63465d49ca090d265e7030dd1296">padding</a></td></tr>
<tr class="separator:a617e63465d49ca090d265e7030dd1296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17a85ac2e18cbf0070840dbf05f83909"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#a17a85ac2e18cbf0070840dbf05f83909">start_addr</a></td></tr>
<tr class="separator:a17a85ac2e18cbf0070840dbf05f83909"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a50cb31fd4d4a685637c45c58a5e38c2a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#a50cb31fd4d4a685637c45c58a5e38c2a">fromfile</a> = <a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#a7a6a932234ba78adfbb18ee6d0e61c4d">loadfile</a></td></tr>
<tr class="separator:a50cb31fd4d4a685637c45c58a5e38c2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a100e264992b4b3a7f9e54738afa6adc6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#a100e264992b4b3a7f9e54738afa6adc6">_decode_record</a></td></tr>
<tr class="separator:a100e264992b4b3a7f9e54738afa6adc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b2c189da03e01e66e1fb3d655e6ca12"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#a2b2c189da03e01e66e1fb3d655e6ca12">_get_start_end</a></td></tr>
<tr class="separator:a2b2c189da03e01e66e1fb3d655e6ca12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a399237908d3bae259187a6b602209dc5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#a399237908d3bae259187a6b602209dc5">_tobinarray_really</a></td></tr>
<tr class="separator:a399237908d3bae259187a6b602209dc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2030dced293aaed0a743037a6ca4c37e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#a2030dced293aaed0a743037a6ca4c37e">_tobinstr_really</a></td></tr>
<tr class="separator:a2030dced293aaed0a743037a6ca4c37e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ad0891b11c70fe680c2e2d118eac9eaf5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#ad0891b11c70fe680c2e2d118eac9eaf5">_buf</a></td></tr>
<tr class="separator:ad0891b11c70fe680c2e2d118eac9eaf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4df0f629da4835d4bea4b21038c7ecfe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#a4df0f629da4835d4bea4b21038c7ecfe">_offset</a></td></tr>
<tr class="separator:a4df0f629da4835d4bea4b21038c7ecfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Intel HEX file reader. </pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00059">59</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac775ee34451fdfa742b318538164070e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def __init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>source</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Constructor. If source specified, object will be initialized
with the contents of source. Otherwise the object will be empty.

@param  source      source for initialization
            (file name of HEX file, file object, addr dict or
             other IntelHex object)
</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00062">62</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00062"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ac775ee34451fdfa742b318538164070e">   62</a></span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ac775ee34451fdfa742b318538164070e">__init__</a>(self, source=None):</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="stringliteral">&#39;&#39;&#39; Constructor. If source specified, object will be initialized</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="stringliteral">        with the contents of source. Otherwise the object will be empty.</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="stringliteral">        @param  source      source for initialization</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="stringliteral">                            (file name of HEX file, file object, addr dict or</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="stringliteral">                             other IntelHex object)</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a617e63465d49ca090d265e7030dd1296">   71</a></span>&#160;        <span class="comment"># public members</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a617e63465d49ca090d265e7030dd1296">padding</a> = 0x0FF</div>
<div class="line"><a name="l00073"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a17a85ac2e18cbf0070840dbf05f83909">   73</a></span>&#160;        <span class="comment"># Start Address</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a17a85ac2e18cbf0070840dbf05f83909">start_addr</a> = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ad0891b11c70fe680c2e2d118eac9eaf5">   76</a></span>&#160;        <span class="comment"># private members</span></div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a4df0f629da4835d4bea4b21038c7ecfe">   77</a></span>&#160;        self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ad0891b11c70fe680c2e2d118eac9eaf5">_buf</a> = {}</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a4df0f629da4835d4bea4b21038c7ecfe">_offset</a> = 0</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordflow">if</span> source <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <span class="keywordflow">if</span> isinstance(source, basestring) <span class="keywordflow">or</span> getattr(source, <span class="stringliteral">&quot;read&quot;</span>, <span class="keywordtype">None</span>):</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                <span class="comment"># load hex file</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a4d503df24901cea36a18251f1b001745">loadhex</a>(source)</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="keywordflow">elif</span> isinstance(source, dict):</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#af07863f9140d21592ff8db35eadbc7ca">fromdict</a>(source)</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            <span class="keywordflow">elif</span> isinstance(source, IntelHex):</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a617e63465d49ca090d265e7030dd1296">padding</a> = source.padding</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                <span class="keywordflow">if</span> source.start_addr:</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                    self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a17a85ac2e18cbf0070840dbf05f83909">start_addr</a> = source.start_addr.copy()</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ad0891b11c70fe680c2e2d118eac9eaf5">_buf</a> = source._buf.copy()</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;source: bad initializer type&quot;</span>)</div>
</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a100e264992b4b3a7f9e54738afa6adc6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def _decode_record </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>line</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Decode one record of HEX file.

@param  s       line with HEX record.
@param  line    line number (for error messages).

@raise  EndOfFile   if EOF record encountered.
</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00093">93</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="intelhex_8py_source.html#l00076">IntelHex._buf</a>, <a class="el" href="intelhex_8py_source.html#l00077">IntelHex._offset</a>, <a class="el" href="compat_8py_source.html#l00055">dfu.compat.asbytes</a>, and <a class="el" href="intelhex_8py_source.html#l00073">IntelHex.start_addr</a>.</p>
<div class="fragment"><div class="line"><a name="l00093"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a100e264992b4b3a7f9e54738afa6adc6">   93</a></span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a100e264992b4b3a7f9e54738afa6adc6">_decode_record</a>(self, s, line=0):</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Decode one record of HEX file.</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="stringliteral">        @param  s       line with HEX record.</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="stringliteral">        @param  line    line number (for error messages).</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="stringliteral">        @raise  EndOfFile   if EOF record encountered.</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        s = s.rstrip(<span class="stringliteral">&#39;\r\n&#39;</span>)</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> s:</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <span class="keywordflow">return</span>          <span class="comment"># empty line</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="keywordflow">if</span> s[0] == <span class="stringliteral">&#39;:&#39;</span>:</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <span class="keywordflow">try</span>:</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                bin = array(<span class="stringliteral">&#39;B&#39;</span>, unhexlify(<a class="code" href="namespacedfu_1_1compat.html#ae22cbff4637d95e96c1baa5e0b3ca323">asbytes</a>(s[1:])))</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <span class="keywordflow">except</span> (TypeError, ValueError):</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                <span class="comment"># this might be raised by unhexlify when odd hexascii digits</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                <span class="keywordflow">raise</span> <a class="code" href="classdfu_1_1intelhex_1_1_hex_record_error.html">HexRecordError</a>(line=line)</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            length = len(bin)</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            <span class="keywordflow">if</span> length &lt; 5:</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                <span class="keywordflow">raise</span> <a class="code" href="classdfu_1_1intelhex_1_1_hex_record_error.html">HexRecordError</a>(line=line)</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            <span class="keywordflow">raise</span> <a class="code" href="classdfu_1_1intelhex_1_1_hex_record_error.html">HexRecordError</a>(line=line)</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        record_length = bin[0]</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keywordflow">if</span> length != (5 + record_length):</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            <span class="keywordflow">raise</span> <a class="code" href="classdfu_1_1intelhex_1_1_record_length_error.html">RecordLengthError</a>(line=line)</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        addr = bin[1]*256 + bin[2]</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        record_type = bin[3]</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> (0 &lt;= record_type &lt;= 5):</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <span class="keywordflow">raise</span> <a class="code" href="classdfu_1_1intelhex_1_1_record_type_error.html">RecordTypeError</a>(line=line)</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        crc = sum(bin)</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        crc &amp;= 0x0FF</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">if</span> crc != 0:</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <span class="keywordflow">raise</span> <a class="code" href="classdfu_1_1intelhex_1_1_record_checksum_error.html">RecordChecksumError</a>(line=line)</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">if</span> record_type == 0:</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            <span class="comment"># data record</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            addr += self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a4df0f629da4835d4bea4b21038c7ecfe">_offset</a></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> xrange(4, 4+record_length):</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                <span class="keywordflow">if</span> <span class="keywordflow">not</span> self._buf.get(addr, <span class="keywordtype">None</span>) <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                    <span class="keywordflow">raise</span> <a class="code" href="classdfu_1_1intelhex_1_1_address_overlap_error.html">AddressOverlapError</a>(address=addr, line=line)</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ad0891b11c70fe680c2e2d118eac9eaf5">_buf</a>[addr] = bin[i]</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                addr += 1   <span class="comment"># FIXME: addr should be wrapped </span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                            <span class="comment"># BUT after 02 record (at 64K boundary)</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                            <span class="comment"># and after 04 record (at 4G boundary)</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="keywordflow">elif</span> record_type == 1:</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <span class="comment"># end of file record</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            <span class="keywordflow">if</span> record_length != 0:</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                <span class="keywordflow">raise</span> <a class="code" href="classdfu_1_1intelhex_1_1_e_o_f_record_error.html">EOFRecordError</a>(line=line)</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="keywordflow">raise</span> _EndOfFile</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="keywordflow">elif</span> record_type == 2:</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="comment"># Extended 8086 Segment Record</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="keywordflow">if</span> record_length != 2 <span class="keywordflow">or</span> addr != 0:</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                <span class="keywordflow">raise</span> <a class="code" href="classdfu_1_1intelhex_1_1_extended_segment_address_record_error.html">ExtendedSegmentAddressRecordError</a>(line=line)</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a4df0f629da4835d4bea4b21038c7ecfe">_offset</a> = (bin[4]*256 + bin[5]) * 16</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">elif</span> record_type == 4:</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="comment"># Extended Linear Address Record</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <span class="keywordflow">if</span> record_length != 2 <span class="keywordflow">or</span> addr != 0:</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;                <span class="keywordflow">raise</span> <a class="code" href="classdfu_1_1intelhex_1_1_extended_linear_address_record_error.html">ExtendedLinearAddressRecordError</a>(line=line)</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a4df0f629da4835d4bea4b21038c7ecfe">_offset</a> = (bin[4]*256 + bin[5]) * 65536</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keywordflow">elif</span> record_type == 3:</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <span class="comment"># Start Segment Address Record</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <span class="keywordflow">if</span> record_length != 4 <span class="keywordflow">or</span> addr != 0:</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                <span class="keywordflow">raise</span> <a class="code" href="classdfu_1_1intelhex_1_1_start_segment_address_record_error.html">StartSegmentAddressRecordError</a>(line=line)</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            <span class="keywordflow">if</span> self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a17a85ac2e18cbf0070840dbf05f83909">start_addr</a>:</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                <span class="keywordflow">raise</span> <a class="code" href="classdfu_1_1intelhex_1_1_duplicate_start_address_record_error.html">DuplicateStartAddressRecordError</a>(line=line)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a17a85ac2e18cbf0070840dbf05f83909">start_addr</a> = {<span class="stringliteral">&#39;CS&#39;</span>: bin[4]*256 + bin[5],</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                               <span class="stringliteral">&#39;IP&#39;</span>: bin[6]*256 + bin[7],</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                              }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">elif</span> record_type == 5:</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <span class="comment"># Start Linear Address Record</span></div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <span class="keywordflow">if</span> record_length != 4 <span class="keywordflow">or</span> addr != 0:</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                <span class="keywordflow">raise</span> <a class="code" href="classdfu_1_1intelhex_1_1_start_linear_address_record_error.html">StartLinearAddressRecordError</a>(line=line)</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <span class="keywordflow">if</span> self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a17a85ac2e18cbf0070840dbf05f83909">start_addr</a>:</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                <span class="keywordflow">raise</span> <a class="code" href="classdfu_1_1intelhex_1_1_duplicate_start_address_record_error.html">DuplicateStartAddressRecordError</a>(line=line)</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a17a85ac2e18cbf0070840dbf05f83909">start_addr</a> = {<span class="stringliteral">&#39;EIP&#39;</span>: (bin[4]*16777216 +</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                                       bin[5]*65536 +</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                                       bin[6]*256 +</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                                       bin[7]),</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                              }</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4d503df24901cea36a18251f1b001745"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def loadhex </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fobj</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Load hex file into internal buffer. This is not necessary
if object was initialized with source set. This will overwrite
addresses if object was already initialized.

@param  fobj        file name or file-like object
</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00183">183</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="intelhex_8py_source.html#l00093">IntelHex._decode_record()</a>, and <a class="el" href="intelhex_8py_source.html#l00077">IntelHex._offset</a>.</p>
<div class="fragment"><div class="line"><a name="l00183"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a4d503df24901cea36a18251f1b001745">  183</a></span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a4d503df24901cea36a18251f1b001745">loadhex</a>(self, fobj):</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Load hex file into internal buffer. This is not necessary</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="stringliteral">        if object was initialized with source set. This will overwrite</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="stringliteral">        addresses if object was already initialized.</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="stringliteral">        @param  fobj        file name or file-like object</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">if</span> getattr(fobj, <span class="stringliteral">&quot;read&quot;</span>, <span class="keywordtype">None</span>) <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            fobj = open(fobj, <span class="stringliteral">&quot;</span><span class="stringliteral">r&quot;)</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="stringliteral">            fclose = fobj.close</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="stringliteral">        </span><span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            fclose = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a4df0f629da4835d4bea4b21038c7ecfe">_offset</a> = 0</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        line = 0</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="keywordflow">try</span>:</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            decode = self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a100e264992b4b3a7f9e54738afa6adc6">_decode_record</a></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            <span class="keywordflow">try</span>:</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                <span class="keywordflow">for</span> s <span class="keywordflow">in</span> fobj:</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                    line += 1</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                    decode(s, line)</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            <span class="keywordflow">except</span> _EndOfFile:</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                <span class="keywordflow">pass</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordflow">finally</span>:</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="keywordflow">if</span> fclose:</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                fclose()</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad03b7cbb30f35aedeb71eb325c64f829"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def loadbin </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>offset</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Load bin file into internal buffer. Not needed if source set in
constructor. This will overwrite addresses without warning
if object was already initialized.

@param  fobj        file name or file-like object
@param  offset      starting address offset
</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00211">211</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="compat_8py_source.html#l00055">dfu.compat.asbytes</a>, and <a class="el" href="intelhex_8py_source.html#l00273">IntelHex.frombytes()</a>.</p>
<div class="fragment"><div class="line"><a name="l00211"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ad03b7cbb30f35aedeb71eb325c64f829">  211</a></span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ad03b7cbb30f35aedeb71eb325c64f829">loadbin</a>(self, fobj, offset=0):</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Load bin file into internal buffer. Not needed if source set in</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="stringliteral">        constructor. This will overwrite addresses without warning</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;<span class="stringliteral">        if object was already initialized.</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="stringliteral">        @param  fobj        file name or file-like object</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="stringliteral">        @param  offset      starting address offset</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        fread = getattr(fobj, <span class="stringliteral">&quot;read&quot;</span>, <span class="keywordtype">None</span>)</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">if</span> fread <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            f = open(fobj, <span class="stringliteral">&quot;rb&quot;</span>)</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            fread = f.read</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;            fclose = f.close</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            fclose = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        <span class="keywordflow">try</span>:</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ac39aca6bed3b4daac01acdca06306737">frombytes</a>(array(<span class="stringliteral">&#39;B&#39;</span>, <a class="code" href="namespacedfu_1_1compat.html#ae22cbff4637d95e96c1baa5e0b3ca323">asbytes</a>(fread())), offset=offset)</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        <span class="keywordflow">finally</span>:</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="keywordflow">if</span> fclose:</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                fclose()</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7a6a932234ba78adfbb18ee6d0e61c4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def loadfile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>format</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Load data file into internal buffer. Preferred wrapper over
loadbin or loadhex.

@param  fobj        file name or file-like object
@param  format      file format ("hex" or "bin")
</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00233">233</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="intelhex_8py_source.html#l00211">IntelHex.loadbin()</a>, and <a class="el" href="intelhex_8py_source.html#l00183">IntelHex.loadhex()</a>.</p>
<div class="fragment"><div class="line"><a name="l00233"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a7a6a932234ba78adfbb18ee6d0e61c4d">  233</a></span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a7a6a932234ba78adfbb18ee6d0e61c4d">loadfile</a>(self, fobj, format):</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Load data file into internal buffer. Preferred wrapper over</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="stringliteral">        loadbin or loadhex.</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="stringliteral">        @param  fobj        file name or file-like object</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="stringliteral">        @param  format      file format (&quot;hex&quot; or &quot;bin&quot;)</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">if</span> format == <span class="stringliteral">&quot;hex&quot;</span>:</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a4d503df24901cea36a18251f1b001745">loadhex</a>(fobj)</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keywordflow">elif</span> format == <span class="stringliteral">&quot;bin&quot;</span>:</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ad03b7cbb30f35aedeb71eb325c64f829">loadbin</a>(fobj)</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;format should be either &quot;hex&quot; or &quot;bin&quot;;&#39;</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                <span class="stringliteral">&#39; got %r instead&#39;</span> % format)</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af07863f9140d21592ff8db35eadbc7ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def fromdict </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dikt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Load data from dictionary. Dictionary should contain int keys
representing addresses. Values should be the data to be stored in
those addresses in unsigned char form (i.e. not strings).
The dictionary may contain the key, ``start_addr``
to indicate the starting address of the data as described in README.

The contents of the dict will be merged with this object and will
overwrite any conflicts. This function is not necessary if the
object was initialized with source specified.
</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00251">251</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="intelhex_8py_source.html#l00073">IntelHex.start_addr</a>.</p>
<div class="fragment"><div class="line"><a name="l00251"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#af07863f9140d21592ff8db35eadbc7ca">  251</a></span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#af07863f9140d21592ff8db35eadbc7ca">fromdict</a>(self, dikt):</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Load data from dictionary. Dictionary should contain int keys</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="stringliteral">        representing addresses. Values should be the data to be stored in</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="stringliteral">        those addresses in unsigned char form (i.e. not strings).</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="stringliteral">        The dictionary may contain the key, ``start_addr``</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;<span class="stringliteral">        to indicate the starting address of the data as described in README.</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;<span class="stringliteral">        The contents of the dict will be merged with this object and will</span></div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="stringliteral">        overwrite any conflicts. This function is not necessary if the</span></div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;<span class="stringliteral">        object was initialized with source specified.</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        s = dikt.copy()</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        start_addr = s.get(<span class="stringliteral">&#39;start_addr&#39;</span>)</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <span class="keywordflow">if</span> start_addr <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            del s[<span class="stringliteral">&#39;start_addr&#39;</span>]</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <span class="keywordflow">for</span> k <span class="keywordflow">in</span> s.keys():</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <span class="keywordflow">if</span> type(k) <span class="keywordflow">not</span> <span class="keywordflow">in</span> (int, long) <span class="keywordflow">or</span> k &lt; 0:</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;Source dictionary should have only int keys&#39;</span>)</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        self._buf.update(s)</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">if</span> start_addr <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a17a85ac2e18cbf0070840dbf05f83909">start_addr</a> = start_addr</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac39aca6bed3b4daac01acdca06306737"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def frombytes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>offset</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Load data from array or list of bytes.
Similar to loadbin() method but works directly with iterable bytes.
</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00273">273</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="intelhex_8py_source.html#l00076">IntelHex._buf</a>.</p>
<div class="fragment"><div class="line"><a name="l00273"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ac39aca6bed3b4daac01acdca06306737">  273</a></span>&#160;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ac39aca6bed3b4daac01acdca06306737">frombytes</a>(self, bytes, offset=0):</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Load data from array or list of bytes.</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;<span class="stringliteral">        Similar to loadbin() method but works directly with iterable bytes.</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="keywordflow">for</span> b <span class="keywordflow">in</span> bytes:</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ad0891b11c70fe680c2e2d118eac9eaf5">_buf</a>[offset] = b</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;            offset += 1</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2b2c189da03e01e66e1fb3d655e6ca12"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def _get_start_end </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>start</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>end</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>size</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Return default values for start and end if they are None.
If this IntelHex object is empty then it's error to
invoke this method with both start and end as None. 
</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00281">281</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="intelhex_8py_source.html#l00076">IntelHex._buf</a>, <a class="el" href="intelhex_8py_source.html#l00435">IntelHex.maxaddr()</a>, and <a class="el" href="intelhex_8py_source.html#l00425">IntelHex.minaddr()</a>.</p>
<div class="fragment"><div class="line"><a name="l00281"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a2b2c189da03e01e66e1fb3d655e6ca12">  281</a></span>&#160;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a2b2c189da03e01e66e1fb3d655e6ca12">_get_start_end</a>(self, start=None, end=None, size=None):</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Return default values for start and end if they are None.</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<span class="stringliteral">        If this IntelHex object is empty then it&#39;s error to</span></div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;<span class="stringliteral">        invoke this method with both start and end as None. </span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">if</span> (start,end) == (<span class="keywordtype">None</span>,<span class="keywordtype">None</span>) <span class="keywordflow">and</span> self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ad0891b11c70fe680c2e2d118eac9eaf5">_buf</a> == {}:</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <span class="keywordflow">raise</span> EmptyIntelHexError</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="keywordflow">if</span> size <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="keywordflow">if</span> <span class="keywordtype">None</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> (start, end):</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;tobinarray: you can&#39;t use start,end and size&quot;</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                                 <span class="stringliteral">&quot; arguments in the same time&quot;</span>)</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="keywordflow">if</span> (start, end) == (<span class="keywordtype">None</span>, <span class="keywordtype">None</span>):</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                start = self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a2c691485b93f788cacab382c75bc99e4">minaddr</a>()</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <span class="keywordflow">if</span> start <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                end = start + size - 1</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                start = end - size + 1</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                <span class="keywordflow">if</span> start &lt; 0:</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                    <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;tobinarray: invalid size (%d) &quot;</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                                     <span class="stringliteral">&quot;for given end address (%d)&quot;</span> % (size,end))</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            <span class="keywordflow">if</span> start <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                start = self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a2c691485b93f788cacab382c75bc99e4">minaddr</a>()</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;            <span class="keywordflow">if</span> end <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;                end = self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ac5688c2a84fa75e426d2cc50ccf38031">maxaddr</a>()</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            <span class="keywordflow">if</span> start &gt; end:</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                start, end = end, start</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;        <span class="keywordflow">return</span> start, end</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5adf3f7270097b6191659b5cd2ce17af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def tobinarray </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>start</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>end</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pad</em> = <code><a class="el" href="namespacedfu_1_1intelhex.html#a1b404a20696580850d3b24fbb520c263">_DEPRECATED</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>size</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Convert this object to binary form as array. If start and end 
unspecified, they will be inferred from the data.
@param  start   start address of output bytes.
@param  end     end address of output bytes (inclusive).
@param  pad     [DEPRECATED PARAMETER, please use self.padding instead]
        fill empty spaces with this value
        (if pad is None then this method uses self.padding).
@param  size    size of the block, used with start or end parameter.
@return         array of unsigned char data.
</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00310">310</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="intelhex_8py_source.html#l00332">IntelHex._tobinarray_really()</a>.</p>
<div class="fragment"><div class="line"><a name="l00310"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a5adf3f7270097b6191659b5cd2ce17af">  310</a></span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a5adf3f7270097b6191659b5cd2ce17af">tobinarray</a>(self, start=None, end=None, pad=_DEPRECATED, size=None):</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;        <span class="stringliteral">&#39;&#39;&#39; Convert this object to binary form as array. If start and end </span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;<span class="stringliteral">        unspecified, they will be inferred from the data.</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="stringliteral">        @param  start   start address of output bytes.</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="stringliteral">        @param  end     end address of output bytes (inclusive).</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="stringliteral">        @param  pad     [DEPRECATED PARAMETER, please use self.padding instead]</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="stringliteral">                        fill empty spaces with this value</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="stringliteral">                        (if pad is None then this method uses self.padding).</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="stringliteral">        @param  size    size of the block, used with start or end parameter.</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="stringliteral">        @return         array of unsigned char data.</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(pad, _DeprecatedParam):</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;            <span class="keywordflow">print</span> <span class="stringliteral">&quot;IntelHex.tobinarray: &#39;pad&#39; parameter is deprecated.&quot;</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;            <span class="keywordflow">if</span> pad <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                <span class="keywordflow">print</span> <span class="stringliteral">&quot;Please, use IntelHex.padding attribute instead.&quot;</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                <span class="keywordflow">print</span> <span class="stringliteral">&quot;Please, don&#39;t pass it explicitly.&quot;</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                <span class="keywordflow">print</span> <span class="stringliteral">&quot;Use syntax like this: ih.tobinarray(start=xxx, end=yyy, size=zzz)&quot;</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            pad = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a399237908d3bae259187a6b602209dc5">_tobinarray_really</a>(start, end, pad, size)</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a399237908d3bae259187a6b602209dc5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def _tobinarray_really </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00332">332</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="intelhex_8py_source.html#l00076">IntelHex._buf</a>, <a class="el" href="intelhex_8py_source.html#l00281">IntelHex._get_start_end()</a>, and <a class="el" href="intelhex_8py_source.html#l00071">IntelHex.padding</a>.</p>
<div class="fragment"><div class="line"><a name="l00332"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a399237908d3bae259187a6b602209dc5">  332</a></span>&#160;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a399237908d3bae259187a6b602209dc5">_tobinarray_really</a>(self, start, end, pad, size):</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="keywordflow">if</span> pad <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;            pad = self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a617e63465d49ca090d265e7030dd1296">padding</a></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        bin = array(<span class="stringliteral">&#39;B&#39;</span>)</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ad0891b11c70fe680c2e2d118eac9eaf5">_buf</a> == {} <span class="keywordflow">and</span> <span class="keywordtype">None</span> <span class="keywordflow">in</span> (start, end):</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <span class="keywordflow">return</span> bin</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="keywordflow">if</span> size <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> size &lt;= 0:</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;tobinarray: wrong value for size&quot;</span>)</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        start, end = self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a2b2c189da03e01e66e1fb3d655e6ca12">_get_start_end</a>(start, end, size)</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> xrange(start, end+1):</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            bin.append(self._buf.get(i, pad))</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        <span class="keywordflow">return</span> bin</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ace70d821ef8e8f2ed3b3a018656a43d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def tobinstr </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>start</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>end</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pad</em> = <code><a class="el" href="namespacedfu_1_1intelhex.html#a1b404a20696580850d3b24fbb520c263">_DEPRECATED</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>size</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Convert to binary form and return as a string.
@param  start   start address of output bytes.
@param  end     end address of output bytes (inclusive).
@param  pad     [DEPRECATED PARAMETER, please use self.padding instead]
        fill empty spaces with this value
        (if pad is None then this method uses self.padding).
@param  size    size of the block, used with start or end parameter.
@return         string of binary data.
</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00351">351</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="intelhex_8py_source.html#l00372">IntelHex._tobinstr_really()</a>.</p>
<div class="fragment"><div class="line"><a name="l00351"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ace70d821ef8e8f2ed3b3a018656a43d9">  351</a></span>&#160;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ace70d821ef8e8f2ed3b3a018656a43d9">tobinstr</a>(self, start=None, end=None, pad=_DEPRECATED, size=None):</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        <span class="stringliteral">&#39;&#39;&#39; Convert to binary form and return as a string.</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="stringliteral">        @param  start   start address of output bytes.</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="stringliteral">        @param  end     end address of output bytes (inclusive).</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="stringliteral">        @param  pad     [DEPRECATED PARAMETER, please use self.padding instead]</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="stringliteral">                        fill empty spaces with this value</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="stringliteral">                        (if pad is None then this method uses self.padding).</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="stringliteral">        @param  size    size of the block, used with start or end parameter.</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="stringliteral">        @return         string of binary data.</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(pad, _DeprecatedParam):</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            <span class="keywordflow">print</span> <span class="stringliteral">&quot;IntelHex.tobinstr: &#39;pad&#39; parameter is deprecated.&quot;</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            <span class="keywordflow">if</span> pad <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                <span class="keywordflow">print</span> <span class="stringliteral">&quot;Please, use IntelHex.padding attribute instead.&quot;</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                <span class="keywordflow">print</span> <span class="stringliteral">&quot;Please, don&#39;t pass it explicitly.&quot;</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                <span class="keywordflow">print</span> <span class="stringliteral">&quot;Use syntax like this: ih.tobinstr(start=xxx, end=yyy, size=zzz)&quot;</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;            pad = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a2030dced293aaed0a743037a6ca4c37e">_tobinstr_really</a>(start, end, pad, size)</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2030dced293aaed0a743037a6ca4c37e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">def _tobinstr_really </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pad</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00372">372</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="intelhex_8py_source.html#l00332">IntelHex._tobinarray_really()</a>, and <a class="el" href="compat_8py_source.html#l00056">dfu.compat.asstr</a>.</p>
<div class="fragment"><div class="line"><a name="l00372"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a2030dced293aaed0a743037a6ca4c37e">  372</a></span>&#160;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a2030dced293aaed0a743037a6ca4c37e">_tobinstr_really</a>(self, start, end, pad, size):</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacedfu_1_1compat.html#a9a2cce93318dd74d6ca3ebee4a82acde">asstr</a>(self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a399237908d3bae259187a6b602209dc5">_tobinarray_really</a>(start, end, pad, size).tostring())</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3e6018e85580741a5ece0b4a87c928f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def tobinfile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>start</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>end</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pad</em> = <code><a class="el" href="namespacedfu_1_1intelhex.html#a1b404a20696580850d3b24fbb520c263">_DEPRECATED</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>size</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Convert to binary and write to file.

@param  fobj    file name or file object for writing output bytes.
@param  start   start address of output bytes.
@param  end     end address of output bytes (inclusive).
@param  pad     [DEPRECATED PARAMETER, please use self.padding instead]
        fill empty spaces with this value
        (if pad is None then this method uses self.padding).
@param  size    size of the block, used with start or end parameter.
</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00375">375</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="intelhex_8py_source.html#l00372">IntelHex._tobinstr_really()</a>.</p>
<div class="fragment"><div class="line"><a name="l00375"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a3e6018e85580741a5ece0b4a87c928f7">  375</a></span>&#160;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a3e6018e85580741a5ece0b4a87c928f7">tobinfile</a>(self, fobj, start=None, end=None, pad=_DEPRECATED, size=None):</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Convert to binary and write to file.</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="stringliteral">        @param  fobj    file name or file object for writing output bytes.</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="stringliteral">        @param  start   start address of output bytes.</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="stringliteral">        @param  end     end address of output bytes (inclusive).</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="stringliteral">        @param  pad     [DEPRECATED PARAMETER, please use self.padding instead]</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="stringliteral">                        fill empty spaces with this value</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<span class="stringliteral">                        (if pad is None then this method uses self.padding).</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;<span class="stringliteral">        @param  size    size of the block, used with start or end parameter.</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(pad, _DeprecatedParam):</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <span class="keywordflow">print</span> <span class="stringliteral">&quot;IntelHex.tobinfile: &#39;pad&#39; parameter is deprecated.&quot;</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="keywordflow">if</span> pad <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                <span class="keywordflow">print</span> <span class="stringliteral">&quot;Please, use IntelHex.padding attribute instead.&quot;</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                <span class="keywordflow">print</span> <span class="stringliteral">&quot;Please, don&#39;t pass it explicitly.&quot;</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                <span class="keywordflow">print</span> <span class="stringliteral">&quot;Use syntax like this: ih.tobinfile(start=xxx, end=yyy, size=zzz)&quot;</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;            pad = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="keywordflow">if</span> getattr(fobj, <span class="stringliteral">&quot;write&quot;</span>, <span class="keywordtype">None</span>) <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;            fobj = open(fobj, <span class="stringliteral">&quot;wb&quot;</span>)</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;            close_fd = <span class="keyword">True</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            close_fd = <span class="keyword">False</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        fobj.write(self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a2030dced293aaed0a743037a6ca4c37e">_tobinstr_really</a>(start, end, pad, size))</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordflow">if</span> close_fd:</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            fobj.close()</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a29a696fb3acb308710b690660f58cd10"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def todict </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Convert to python dictionary.

@return         dict suitable for initializing another IntelHex object.
</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00406">406</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="intelhex_8py_source.html#l00076">IntelHex._buf</a>, and <a class="el" href="intelhex_8py_source.html#l00073">IntelHex.start_addr</a>.</p>
<div class="fragment"><div class="line"><a name="l00406"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a29a696fb3acb308710b690660f58cd10">  406</a></span>&#160;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a29a696fb3acb308710b690660f58cd10">todict</a>(self):</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Convert to python dictionary.</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;<span class="stringliteral">        @return         dict suitable for initializing another IntelHex object.</span></div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        r = {}</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;        r.update(self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ad0891b11c70fe680c2e2d118eac9eaf5">_buf</a>)</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a17a85ac2e18cbf0070840dbf05f83909">start_addr</a>:</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            r[<span class="stringliteral">&#39;start_addr&#39;</span>] = self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a17a85ac2e18cbf0070840dbf05f83909">start_addr</a></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="keywordflow">return</span> r</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a995e3d3c10e12cac93579130adda4ef4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def addresses </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns all used addresses in sorted order.
@return         list of occupied data addresses in sorted order. 
</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00417">417</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00417"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a995e3d3c10e12cac93579130adda4ef4">  417</a></span>&#160;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a995e3d3c10e12cac93579130adda4ef4">addresses</a>(self):</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Returns all used addresses in sorted order.</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;<span class="stringliteral">        @return         list of occupied data addresses in sorted order. </span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        aa = self._buf.keys()</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        aa.sort()</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="keywordflow">return</span> aa</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2c691485b93f788cacab382c75bc99e4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def minaddr </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get minimal address of HEX content.
@return         minimal address or None if no data
</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00425">425</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00425"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a2c691485b93f788cacab382c75bc99e4">  425</a></span>&#160;</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a2c691485b93f788cacab382c75bc99e4">minaddr</a>(self):</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Get minimal address of HEX content.</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;<span class="stringliteral">        @return         minimal address or None if no data</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        aa = self._buf.keys()</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keywordflow">if</span> aa == []:</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;            <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <span class="keywordflow">return</span> min(aa)</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac5688c2a84fa75e426d2cc50ccf38031"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def maxaddr </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get maximal address of HEX content.
@return         maximal address or None if no data
</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00435">435</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00435"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ac5688c2a84fa75e426d2cc50ccf38031">  435</a></span>&#160;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ac5688c2a84fa75e426d2cc50ccf38031">maxaddr</a>(self):</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        <span class="stringliteral">&#39;&#39;&#39;Get maximal address of HEX content.</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="stringliteral">        @return         maximal address or None if no data</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        aa = self._buf.keys()</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        <span class="keywordflow">if</span> aa == []:</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;            <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <span class="keywordflow">return</span> max(aa)</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a50d766f4276c3d8fe330ac8cd344a75f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def __getitem__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get requested byte from address.
@param  addr    address of byte.
@return         byte if address exists in HEX file, or self.padding
        if no data found.
</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00445">445</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="intelhex_8py_source.html#l00071">IntelHex.padding</a>.</p>
<div class="fragment"><div class="line"><a name="l00445"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a50d766f4276c3d8fe330ac8cd344a75f">  445</a></span>&#160;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a50d766f4276c3d8fe330ac8cd344a75f">__getitem__</a>(self, addr):</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="stringliteral">&#39;&#39;&#39; Get requested byte from address.</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<span class="stringliteral">        @param  addr    address of byte.</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;<span class="stringliteral">        @return         byte if address exists in HEX file, or self.padding</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;<span class="stringliteral">                        if no data found.</span></div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;<span class="stringliteral">        &#39;&#39;&#39;</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        t = type(addr)</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keywordflow">if</span> t <span class="keywordflow">in</span> (int, long):</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;            <span class="keywordflow">if</span> addr &lt; 0:</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&#39;Address should be &gt;= 0.&#39;</span>)</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;            <span class="keywordflow">return</span> self._buf.get(addr, self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a617e63465d49ca090d265e7030dd1296">padding</a>)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        <span class="keywordflow">elif</span> t == slice:</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            addresses = self._buf.keys()</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            ih = <a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html">IntelHex</a>()</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;            <span class="keywordflow">if</span> addresses:</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                addresses.sort()</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                start = addr.start <span class="keywordflow">or</span> addresses[0]</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                stop = addr.stop <span class="keywordflow">or</span> (addresses[-1]+1)</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                step = addr.step <span class="keywordflow">or</span> 1</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                <span class="keywordflow">for</span> i <span class="keywordflow">in</span> xrange(start, stop, step):</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                    x = self._buf.get(i)</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                    <span class="keywordflow">if</span> x <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                        ih[i] = x</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            <span class="keywordflow">return</span> ih</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&#39;Address has unsupported type: %s&#39;</span> % t)</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a09195b01147e970ca71c48b57f653940"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def __setitem__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>byte</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Set byte at address.</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00472">472</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="intelhex_8py_source.html#l00076">IntelHex._buf</a>.</p>
<div class="fragment"><div class="line"><a name="l00472"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a09195b01147e970ca71c48b57f653940">  472</a></span>&#160;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a09195b01147e970ca71c48b57f653940">__setitem__</a>(self, addr, byte):</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Set byte at address.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        t = type(addr)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keywordflow">if</span> t <span class="keywordflow">in</span> (int, long):</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            <span class="keywordflow">if</span> addr &lt; 0:</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&#39;Address should be &gt;= 0.&#39;</span>)</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ad0891b11c70fe680c2e2d118eac9eaf5">_buf</a>[addr] = byte</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordflow">elif</span> t == slice:</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;            <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(byte, (list, tuple)):</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;Slice operation expects sequence of bytes&#39;</span>)</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            start = addr.start</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            stop = addr.stop</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            step = addr.step <span class="keywordflow">or</span> 1</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;            <span class="keywordflow">if</span> <span class="keywordtype">None</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> (start, stop):</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                ra = range(start, stop, step)</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                <span class="keywordflow">if</span> len(ra) != len(byte):</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                    <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;Length of bytes sequence does not match &#39;</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;                        <span class="stringliteral">&#39;address range&#39;</span>)</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            <span class="keywordflow">elif</span> (start, stop) == (<span class="keywordtype">None</span>, <span class="keywordtype">None</span>):</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&#39;Unsupported address range&#39;</span>)</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;            <span class="keywordflow">elif</span> start <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                start = stop - len(byte)</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            <span class="keywordflow">elif</span> stop <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                stop = start + len(byte)</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;            <span class="keywordflow">if</span> start &lt; 0:</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&#39;start address cannot be negative&#39;</span>)</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;            <span class="keywordflow">if</span> stop &lt; 0:</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&#39;stop address cannot be negative&#39;</span>)</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            j = 0</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> xrange(start, stop, step):</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;                self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ad0891b11c70fe680c2e2d118eac9eaf5">_buf</a>[i] = byte[j]</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                j += 1</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&#39;Address has unsupported type: %s&#39;</span> % t)</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5fa6cfe34d7e2fe5b9c38e1d74fffac8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def __delitem__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Delete byte at address.</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00507">507</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="intelhex_8py_source.html#l00076">IntelHex._buf</a>.</p>
<div class="fragment"><div class="line"><a name="l00507"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a5fa6cfe34d7e2fe5b9c38e1d74fffac8">  507</a></span>&#160;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a5fa6cfe34d7e2fe5b9c38e1d74fffac8">__delitem__</a>(self, addr):</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Delete byte at address.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        t = type(addr)</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <span class="keywordflow">if</span> t <span class="keywordflow">in</span> (int, long):</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;            <span class="keywordflow">if</span> addr &lt; 0:</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;                <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&#39;Address should be &gt;= 0.&#39;</span>)</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            del self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ad0891b11c70fe680c2e2d118eac9eaf5">_buf</a>[addr]</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <span class="keywordflow">elif</span> t == slice:</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            addresses = self._buf.keys()</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;            <span class="keywordflow">if</span> addresses:</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                addresses.sort()</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                start = addr.start <span class="keywordflow">or</span> addresses[0]</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                stop = addr.stop <span class="keywordflow">or</span> (addresses[-1]+1)</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                step = addr.step <span class="keywordflow">or</span> 1</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                <span class="keywordflow">for</span> i <span class="keywordflow">in</span> xrange(start, stop, step):</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                    x = self._buf.get(i)</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                    <span class="keywordflow">if</span> x <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                        del self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ad0891b11c70fe680c2e2d118eac9eaf5">_buf</a>[i]</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&#39;Address has unsupported type: %s&#39;</span> % t)</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af6412d48d9a71eac81e3195b52455aaa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def __len__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return count of bytes with real values.</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00528">528</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00528"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#af6412d48d9a71eac81e3195b52455aaa">  528</a></span>&#160;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#af6412d48d9a71eac81e3195b52455aaa">__len__</a>(self):</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Return count of bytes with real values.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="keywordflow">return</span> len(self._buf.keys())</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac226c9a74bcfa90f56f27220475633f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def write_hex_file </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>write_start_addr</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Write data to file f in HEX format.

@param  f                   filename or file-like object for writing
@param  write_start_addr    enable or disable writing start address
                    record to file (enabled by default).
                    If there is no start address in obj, nothing
                    will be written regardless of this setting.
</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00532">532</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="intelhex_8py_source.html#l00076">IntelHex._buf</a>, <a class="el" href="compat_8py_source.html#l00055">dfu.compat.asbytes</a>, <a class="el" href="compat_8py_source.html#l00056">dfu.compat.asstr</a>, and <a class="el" href="intelhex_8py_source.html#l00073">IntelHex.start_addr</a>.</p>
<div class="fragment"><div class="line"><a name="l00532"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ac226c9a74bcfa90f56f27220475633f0">  532</a></span>&#160;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ac226c9a74bcfa90f56f27220475633f0">write_hex_file</a>(self, f, write_start_addr=True):</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Write data to file f in HEX format.</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="stringliteral">        @param  f                   filename or file-like object for writing</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;<span class="stringliteral">        @param  write_start_addr    enable or disable writing start address</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;<span class="stringliteral">                                    record to file (enabled by default).</span></div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="stringliteral">                                    If there is no start address in obj, nothing</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="stringliteral">                                    will be written regardless of this setting.</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        fwrite = getattr(f, <span class="stringliteral">&quot;write&quot;</span>, <span class="keywordtype">None</span>)</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="keywordflow">if</span> fwrite:</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            fobj = f</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            fclose = <span class="keywordtype">None</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            fobj = open(f, <span class="stringliteral">&#39;w&#39;</span>)</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;            fwrite = fobj.write</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;            fclose = fobj.close</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <span class="comment"># Translation table for uppercasing hex ascii string.</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="comment"># timeit shows that using hexstr.translate(table)</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        <span class="comment"># is faster than hexstr.upper():</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="comment"># 0.452ms vs. 0.652ms (translate vs. upper)</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;        <span class="keywordflow">if</span> sys.version_info[0] &gt;= 3:</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            table = bytes(range(256)).upper()</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            table = <span class="stringliteral">&#39;&#39;</span>.join(chr(i).upper() <span class="keywordflow">for</span>  i <span class="keywordflow">in</span> range(256))</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        <span class="comment"># start address record if any</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a17a85ac2e18cbf0070840dbf05f83909">start_addr</a> <span class="keywordflow">and</span> write_start_addr:</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;            keys = self.start_addr.keys()</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            keys.sort()</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;            bin = array(<span class="stringliteral">&#39;B&#39;</span>, <a class="code" href="namespacedfu_1_1compat.html#ae22cbff4637d95e96c1baa5e0b3ca323">asbytes</a>(<span class="stringliteral">&#39;\0&#39;</span>*9))</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            <span class="keywordflow">if</span> keys == [<span class="stringliteral">&#39;CS&#39;</span>,<span class="stringliteral">&#39;IP&#39;</span>]:</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                <span class="comment"># Start Segment Address Record</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                bin[0] = 4      <span class="comment"># reclen</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                bin[1] = 0      <span class="comment"># offset msb</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                bin[2] = 0      <span class="comment"># offset lsb</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                bin[3] = 3      <span class="comment"># rectyp</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                cs = self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a17a85ac2e18cbf0070840dbf05f83909">start_addr</a>[<span class="stringliteral">&#39;CS&#39;</span>]</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                bin[4] = (cs &gt;&gt; 8) &amp; 0x0FF</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                bin[5] = cs &amp; 0x0FF</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;                ip = self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a17a85ac2e18cbf0070840dbf05f83909">start_addr</a>[<span class="stringliteral">&#39;IP&#39;</span>]</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                bin[6] = (ip &gt;&gt; 8) &amp; 0x0FF</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                bin[7] = ip &amp; 0x0FF</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                bin[8] = (-sum(bin)) &amp; 0x0FF    <span class="comment"># chksum</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;                fwrite(<span class="stringliteral">&#39;:&#39;</span> +</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                       <a class="code" href="namespacedfu_1_1compat.html#a9a2cce93318dd74d6ca3ebee4a82acde">asstr</a>(hexlify(bin.tostring()).translate(table)) +</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                       <span class="stringliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;            <span class="keywordflow">elif</span> keys == [<span class="stringliteral">&#39;EIP&#39;</span>]:</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;                <span class="comment"># Start Linear Address Record</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                bin[0] = 4      <span class="comment"># reclen</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                bin[1] = 0      <span class="comment"># offset msb</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                bin[2] = 0      <span class="comment"># offset lsb</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                bin[3] = 5      <span class="comment"># rectyp</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;                eip = self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a17a85ac2e18cbf0070840dbf05f83909">start_addr</a>[<span class="stringliteral">&#39;EIP&#39;</span>]</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;                bin[4] = (eip &gt;&gt; 24) &amp; 0x0FF</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                bin[5] = (eip &gt;&gt; 16) &amp; 0x0FF</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;                bin[6] = (eip &gt;&gt; 8) &amp; 0x0FF</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;                bin[7] = eip &amp; 0x0FF</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                bin[8] = (-sum(bin)) &amp; 0x0FF    <span class="comment"># chksum</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                fwrite(<span class="stringliteral">&#39;:&#39;</span> +</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                       <a class="code" href="namespacedfu_1_1compat.html#a9a2cce93318dd74d6ca3ebee4a82acde">asstr</a>(hexlify(bin.tostring()).translate(table)) +</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                       <span class="stringliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                <span class="keywordflow">if</span> fclose:</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                    fclose()</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                <span class="keywordflow">raise</span> <a class="code" href="classdfu_1_1intelhex_1_1_invalid_start_address_value_error.html">InvalidStartAddressValueError</a>(start_addr=self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a17a85ac2e18cbf0070840dbf05f83909">start_addr</a>)</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="comment"># data</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        addresses = self._buf.keys()</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        addresses.sort()</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        addr_len = len(addresses)</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="keywordflow">if</span> addr_len:</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;            minaddr = addresses[0]</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            maxaddr = addresses[-1]</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;            <span class="keywordflow">if</span> maxaddr &gt; 65535:</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;                need_offset_record = <span class="keyword">True</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;                need_offset_record = <span class="keyword">False</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            high_ofs = 0</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            cur_addr = minaddr</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            cur_ix = 0</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;            <span class="keywordflow">while</span> cur_addr &lt;= maxaddr:</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                <span class="keywordflow">if</span> need_offset_record:</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                    bin = array(<span class="stringliteral">&#39;B&#39;</span>, <a class="code" href="namespacedfu_1_1compat.html#ae22cbff4637d95e96c1baa5e0b3ca323">asbytes</a>(<span class="stringliteral">&#39;\0&#39;</span>*7))</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                    bin[0] = 2      <span class="comment"># reclen</span></div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                    bin[1] = 0      <span class="comment"># offset msb</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                    bin[2] = 0      <span class="comment"># offset lsb</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                    bin[3] = 4      <span class="comment"># rectyp</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                    high_ofs = int(cur_addr&gt;&gt;16)</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                    b = divmod(high_ofs, 256)</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;                    bin[4] = b[0]   <span class="comment"># msb of high_ofs</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                    bin[5] = b[1]   <span class="comment"># lsb of high_ofs</span></div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                    bin[6] = (-sum(bin)) &amp; 0x0FF    <span class="comment"># chksum</span></div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;                    fwrite(<span class="stringliteral">&#39;:&#39;</span> +</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                           <a class="code" href="namespacedfu_1_1compat.html#a9a2cce93318dd74d6ca3ebee4a82acde">asstr</a>(hexlify(bin.tostring()).translate(table)) +</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;                           <span class="stringliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;                <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;                    <span class="comment"># produce one record</span></div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                    low_addr = cur_addr &amp; 0x0FFFF</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                    <span class="comment"># chain_len off by 1</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;                    chain_len = min(15, 65535-low_addr, maxaddr-cur_addr)</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                    <span class="comment"># search continuous chain</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                    stop_addr = cur_addr + chain_len</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                    <span class="keywordflow">if</span> chain_len:</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                        ix = bisect_right(addresses, stop_addr,</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                                          cur_ix,</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                                          min(cur_ix+chain_len+1, addr_len))</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                        chain_len = ix - cur_ix     <span class="comment"># real chain_len</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                        <span class="comment"># there could be small holes in the chain</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                        <span class="comment"># but we will catch them by try-except later</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                        <span class="comment"># so for big continuous files we will work</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                        <span class="comment"># at maximum possible speed</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                    <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                        chain_len = 1               <span class="comment"># real chain_len</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                    bin = array(<span class="stringliteral">&#39;B&#39;</span>, <a class="code" href="namespacedfu_1_1compat.html#ae22cbff4637d95e96c1baa5e0b3ca323">asbytes</a>(<span class="stringliteral">&#39;\0&#39;</span>*(5+chain_len)))</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                    b = divmod(low_addr, 256)</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                    bin[1] = b[0]   <span class="comment"># msb of low_addr</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;                    bin[2] = b[1]   <span class="comment"># lsb of low_addr</span></div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;                    bin[3] = 0          <span class="comment"># rectype</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;                    <span class="keywordflow">try</span>:    <span class="comment"># if there is small holes we&#39;ll catch them</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;                        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(chain_len):</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;                            bin[4+i] = self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ad0891b11c70fe680c2e2d118eac9eaf5">_buf</a>[cur_addr+i]</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                    <span class="keywordflow">except</span> KeyError:</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;                        <span class="comment"># we catch a hole so we should shrink the chain</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;                        chain_len = i</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;                        bin = bin[:5+i]</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                    bin[0] = chain_len</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;                    bin[4+chain_len] = (-sum(bin)) &amp; 0x0FF    <span class="comment"># chksum</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;                    fwrite(<span class="stringliteral">&#39;:&#39;</span> +</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                           <a class="code" href="namespacedfu_1_1compat.html#a9a2cce93318dd74d6ca3ebee4a82acde">asstr</a>(hexlify(bin.tostring()).translate(table)) +</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                           <span class="stringliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                    <span class="comment"># adjust cur_addr/cur_ix</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                    cur_ix += chain_len</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                    <span class="keywordflow">if</span> cur_ix &lt; addr_len:</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                        cur_addr = addresses[cur_ix]</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                    <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;                        cur_addr = maxaddr + 1</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;                        <span class="keywordflow">break</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                    high_addr = int(cur_addr&gt;&gt;16)</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                    <span class="keywordflow">if</span> high_addr &gt; high_ofs:</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                        <span class="keywordflow">break</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        <span class="comment"># end-of-file record</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        fwrite(<span class="stringliteral">&quot;:00000001FF\n&quot;</span>)</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="keywordflow">if</span> fclose:</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;            fclose()</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac1d24406e4cd45762f3b7c723505cdec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def tofile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>format</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Write data to hex or bin file. Preferred method over tobin or tohex.

@param  fobj        file name or file-like object
@param  format      file format ("hex" or "bin")
</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00689">689</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="intelhex_8py_source.html#l00375">IntelHex.tobinfile()</a>, and <a class="el" href="intelhex_8py_source.html#l00532">IntelHex.write_hex_file()</a>.</p>
<div class="fragment"><div class="line"><a name="l00689"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ac1d24406e4cd45762f3b7c723505cdec">  689</a></span>&#160;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ac1d24406e4cd45762f3b7c723505cdec">tofile</a>(self, fobj, format):</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Write data to hex or bin file. Preferred method over tobin or tohex.</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;<span class="stringliteral">        @param  fobj        file name or file-like object</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;<span class="stringliteral">        @param  format      file format (&quot;hex&quot; or &quot;bin&quot;)</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <span class="keywordflow">if</span> format == <span class="stringliteral">&#39;hex&#39;</span>:</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;            self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ac226c9a74bcfa90f56f27220475633f0">write_hex_file</a>(fobj)</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="keywordflow">elif</span> format == <span class="stringliteral">&#39;bin&#39;</span>:</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;            self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a3e6018e85580741a5ece0b4a87c928f7">tobinfile</a>(fobj)</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;format should be either &quot;hex&quot; or &quot;bin&quot;;&#39;</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                <span class="stringliteral">&#39; got %r instead&#39;</span> % format)</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab06ae80801ad09d624fb429c30df3c5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def gets </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get string of bytes from given address. If any entries are blank
from addr through addr+length, a NotEnoughDataError exception will
be raised. Padding is not used.</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00703">703</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="intelhex_8py_source.html#l00076">IntelHex._buf</a>, <a class="el" href="compat_8py_source.html#l00055">dfu.compat.asbytes</a>, and <a class="el" href="compat_8py_source.html#l00056">dfu.compat.asstr</a>.</p>
<div class="fragment"><div class="line"><a name="l00703"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ab06ae80801ad09d624fb429c30df3c5f">  703</a></span>&#160;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ab06ae80801ad09d624fb429c30df3c5f">gets</a>(self, addr, length):</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Get string of bytes from given address. If any entries are blank</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;<span class="stringliteral">        from addr through addr+length, a NotEnoughDataError exception will</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;<span class="stringliteral">        be raised. Padding is not used.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        a = array(<span class="stringliteral">&#39;B&#39;</span>, <a class="code" href="namespacedfu_1_1compat.html#ae22cbff4637d95e96c1baa5e0b3ca323">asbytes</a>(<span class="stringliteral">&#39;\0&#39;</span>*length))</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        <span class="keywordflow">try</span>:</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> xrange(length):</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;                a[i] = self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ad0891b11c70fe680c2e2d118eac9eaf5">_buf</a>[addr+i]</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        <span class="keywordflow">except</span> KeyError:</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            <span class="keywordflow">raise</span> <a class="code" href="classdfu_1_1intelhex_1_1_not_enough_data_error.html">NotEnoughDataError</a>(address=addr, length=length)</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="namespacedfu_1_1compat.html#a9a2cce93318dd74d6ca3ebee4a82acde">asstr</a>(a.tostring())</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af718c4d56d0be5733023ec239d1fc6c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def puts </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Put string of bytes at given address. Will overwrite any previous
entries.
</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00715">715</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="intelhex_8py_source.html#l00076">IntelHex._buf</a>, and <a class="el" href="compat_8py_source.html#l00055">dfu.compat.asbytes</a>.</p>
<div class="fragment"><div class="line"><a name="l00715"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#af718c4d56d0be5733023ec239d1fc6c1">  715</a></span>&#160;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#af718c4d56d0be5733023ec239d1fc6c1">puts</a>(self, addr, s):</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Put string of bytes at given address. Will overwrite any previous</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;<span class="stringliteral">        entries.</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        a = array(<span class="stringliteral">&#39;B&#39;</span>, <a class="code" href="namespacedfu_1_1compat.html#ae22cbff4637d95e96c1baa5e0b3ca323">asbytes</a>(s))</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> xrange(len(a)):</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ad0891b11c70fe680c2e2d118eac9eaf5">_buf</a>[addr+i] = a[i]</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a48c7ce714657007b92488238bb8955bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def getsz </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get zero-terminated string from given address. Will raise 
NotEnoughDataError exception if a hole is encountered before a 0.
</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00723">723</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="intelhex_8py_source.html#l00076">IntelHex._buf</a>, and <a class="el" href="intelhex_8py_source.html#l00703">IntelHex.gets()</a>.</p>
<div class="fragment"><div class="line"><a name="l00723"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a48c7ce714657007b92488238bb8955bb">  723</a></span>&#160;</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a48c7ce714657007b92488238bb8955bb">getsz</a>(self, addr):</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Get zero-terminated string from given address. Will raise </span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="stringliteral">        NotEnoughDataError exception if a hole is encountered before a 0.</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        i = 0</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        <span class="keywordflow">try</span>:</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                <span class="keywordflow">if</span> self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ad0891b11c70fe680c2e2d118eac9eaf5">_buf</a>[addr+i] == 0:</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                    <span class="keywordflow">break</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                i += 1</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="keywordflow">except</span> KeyError:</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;            <span class="keywordflow">raise</span> <a class="code" href="classdfu_1_1intelhex_1_1_not_enough_data_error.html">NotEnoughDataError</a>(msg=(<span class="stringliteral">&#39;Bad access at 0x%X: &#39;</span></div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                <span class="stringliteral">&#39;not enough data to read zero-terminated string&#39;</span>) % addr)</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <span class="keywordflow">return</span> self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ab06ae80801ad09d624fb429c30df3c5f">gets</a>(addr, i)</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6f580fe89d5bc3e80e959fe9fa345e55"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def putsz </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Put string in object at addr and append terminating zero at end.</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00738">738</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="intelhex_8py_source.html#l00076">IntelHex._buf</a>, and <a class="el" href="intelhex_8py_source.html#l00715">IntelHex.puts()</a>.</p>
<div class="fragment"><div class="line"><a name="l00738"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a6f580fe89d5bc3e80e959fe9fa345e55">  738</a></span>&#160;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a6f580fe89d5bc3e80e959fe9fa345e55">putsz</a>(self, addr, s):</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Put string in object at addr and append terminating zero at end.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#af718c4d56d0be5733023ec239d1fc6c1">puts</a>(addr, s)</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ad0891b11c70fe680c2e2d118eac9eaf5">_buf</a>[addr+len(s)] = 0</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab8ef5e3fd7a86c440b3e5a6475bb63d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def dump </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tofile</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Dump object content to specified file object or to stdout if None.
Format is a hexdump with some header information at the beginning,
addresses on the left, and data on right.

@param  tofile        file-like object to dump to
</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00743">743</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="intelhex_8py_source.html#l00073">IntelHex.start_addr</a>.</p>
<div class="fragment"><div class="line"><a name="l00743"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ab8ef5e3fd7a86c440b3e5a6475bb63d9">  743</a></span>&#160;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ab8ef5e3fd7a86c440b3e5a6475bb63d9">dump</a>(self, tofile=None):</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Dump object content to specified file object or to stdout if None.</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="stringliteral">        Format is a hexdump with some header information at the beginning,</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="stringliteral">        addresses on the left, and data on right.</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="stringliteral">        @param  tofile        file-like object to dump to</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        <span class="keywordflow">if</span> tofile <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;            tofile = sys.stdout</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        <span class="comment"># start addr possibly</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a17a85ac2e18cbf0070840dbf05f83909">start_addr</a> <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            cs = self.start_addr.get(<span class="stringliteral">&#39;CS&#39;</span>)</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;            ip = self.start_addr.get(<span class="stringliteral">&#39;IP&#39;</span>)</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;            eip = self.start_addr.get(<span class="stringliteral">&#39;EIP&#39;</span>)</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            <span class="keywordflow">if</span> eip <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> cs <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> ip <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;                tofile.write(<span class="stringliteral">&#39;EIP = 0x%08X\n&#39;</span> % eip)</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;            <span class="keywordflow">elif</span> eip <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> cs <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> ip <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                tofile.write(<span class="stringliteral">&#39;CS = 0x%04X, IP = 0x%04X\n&#39;</span> % (cs, ip))</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;                tofile.write(<span class="stringliteral">&#39;start_addr = %r\n&#39;</span> % start_addr)</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        <span class="comment"># actual data</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        addresses = self._buf.keys()</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        <span class="keywordflow">if</span> addresses:</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;            addresses.sort()</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;            minaddr = addresses[0]</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;            maxaddr = addresses[-1]</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;            startaddr = int(minaddr&gt;&gt;4)*16</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;            endaddr = int((maxaddr&gt;&gt;4)+1)*16</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;            maxdigits = max(len(str(endaddr)), 4)</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;            templa = <span class="stringliteral">&#39;%%0%dX&#39;</span> % maxdigits</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;            range16 = range(16)</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> xrange(startaddr, endaddr, 16):</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;                tofile.write(templa % i)</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;                tofile.write(<span class="stringliteral">&#39; &#39;</span>)</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;                s = []</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;                <span class="keywordflow">for</span> j <span class="keywordflow">in</span> range16:</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                    x = self._buf.get(i+j)</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                    <span class="keywordflow">if</span> x <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                        tofile.write(<span class="stringliteral">&#39; %02X&#39;</span> % x)</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                        <span class="keywordflow">if</span> 32 &lt;= x &lt; 127:   <span class="comment"># GNU less does not like 0x7F (128 decimal) so we&#39;d better show it as dot</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                            s.append(chr(x))</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;                        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;                            s.append(<span class="stringliteral">&#39;.&#39;</span>)</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;                    <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;                        tofile.write(<span class="stringliteral">&#39; --&#39;</span>)</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;                        s.append(<span class="stringliteral">&#39; &#39;</span>)</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                tofile.write(<span class="stringliteral">&#39;  |&#39;</span> + <span class="stringliteral">&#39;&#39;</span>.join(s) + <span class="stringliteral">&#39;|\n&#39;</span>)</div>
</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4daf9616d72762cca16513d1eea630fc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def merge </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>other</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>overlap</em> = <code>'error'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Merge content of other IntelHex object into current object (self).
@param  other   other IntelHex object.
@param  overlap action on overlap of data or starting addr:
        - error: raising OverlapError;
        - ignore: ignore other data and keep current data
                  in overlapping region;
        - replace: replace data with other data
                  in overlapping region.

@raise  TypeError       if other is not instance of IntelHex
@raise  ValueError      if other is the same object as self 
                (it can't merge itself)
@raise  ValueError      if overlap argument has incorrect value
@raise  AddressOverlapError    on overlapped data
</pre> 
<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00792">792</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

<p>References <a class="el" href="intelhex_8py_source.html#l00076">IntelHex._buf</a>, and <a class="el" href="intelhex_8py_source.html#l00073">IntelHex.start_addr</a>.</p>
<div class="fragment"><div class="line"><a name="l00792"></a><span class="lineno"><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a4daf9616d72762cca16513d1eea630fc">  792</a></span>&#160;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="keyword">def </span><a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a4daf9616d72762cca16513d1eea630fc">merge</a>(self, other, overlap=&#39;error&#39;):</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        <span class="stringliteral">&quot;&quot;&quot;Merge content of other IntelHex object into current object (self).</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;<span class="stringliteral">        @param  other   other IntelHex object.</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;<span class="stringliteral">        @param  overlap action on overlap of data or starting addr:</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;<span class="stringliteral">                        - error: raising OverlapError;</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;<span class="stringliteral">                        - ignore: ignore other data and keep current data</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;<span class="stringliteral">                                  in overlapping region;</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;<span class="stringliteral">                        - replace: replace data with other data</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;<span class="stringliteral">                                  in overlapping region.</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="stringliteral"></span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="stringliteral">        @raise  TypeError       if other is not instance of IntelHex</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="stringliteral">        @raise  ValueError      if other is the same object as self </span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;<span class="stringliteral">                                (it can&#39;t merge itself)</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;<span class="stringliteral">        @raise  ValueError      if overlap argument has incorrect value</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;<span class="stringliteral">        @raise  AddressOverlapError    on overlapped data</span></div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;<span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        <span class="comment"># check args</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(other, IntelHex):</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;            <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&#39;other should be IntelHex object&#39;</span>)</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        <span class="keywordflow">if</span> other <span class="keywordflow">is</span> self:</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;Can&#39;t merge itself&quot;</span>)</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <span class="keywordflow">if</span> overlap <span class="keywordflow">not</span> <span class="keywordflow">in</span> (<span class="stringliteral">&#39;error&#39;</span>, <span class="stringliteral">&#39;ignore&#39;</span>, <span class="stringliteral">&#39;replace&#39;</span>):</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;overlap argument should be either &quot;</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                <span class="stringliteral">&quot;&#39;error&#39;, &#39;ignore&#39; or &#39;replace&#39;&quot;</span>)</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <span class="comment"># merge data</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        this_buf = self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#ad0891b11c70fe680c2e2d118eac9eaf5">_buf</a></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;        other_buf = other._buf</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> other_buf:</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;            <span class="keywordflow">if</span> i <span class="keywordflow">in</span> this_buf:</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;                <span class="keywordflow">if</span> overlap == <span class="stringliteral">&#39;error&#39;</span>:</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                    <span class="keywordflow">raise</span> <a class="code" href="classdfu_1_1intelhex_1_1_address_overlap_error.html">AddressOverlapError</a>(</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                        <span class="stringliteral">&#39;Data overlapped at address 0x%X&#39;</span> % i)</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                <span class="keywordflow">elif</span> overlap == <span class="stringliteral">&#39;ignore&#39;</span>:</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                    <span class="keywordflow">continue</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            this_buf[i] = other_buf[i]</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        <span class="comment"># merge start_addr</span></div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;        <span class="keywordflow">if</span> self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a17a85ac2e18cbf0070840dbf05f83909">start_addr</a> != other.start_addr:</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;            <span class="keywordflow">if</span> self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a17a85ac2e18cbf0070840dbf05f83909">start_addr</a> <span class="keywordflow">is</span> <span class="keywordtype">None</span>:     <span class="comment"># set start addr from other</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;                self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a17a85ac2e18cbf0070840dbf05f83909">start_addr</a> = other.start_addr</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;            <span class="keywordflow">elif</span> other.start_addr <span class="keywordflow">is</span> <span class="keywordtype">None</span>:  <span class="comment"># keep existing start addr</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;                <span class="keywordflow">pass</span></div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;            <span class="keywordflow">else</span>:                           <span class="comment"># conflict</span></div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;                <span class="keywordflow">if</span> overlap == <span class="stringliteral">&#39;error&#39;</span>:</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;                    <span class="keywordflow">raise</span> <a class="code" href="classdfu_1_1intelhex_1_1_address_overlap_error.html">AddressOverlapError</a>(</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;                        <span class="stringliteral">&#39;Starting addresses are different&#39;</span>)</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;                <span class="keywordflow">elif</span> overlap == <span class="stringliteral">&#39;replace&#39;</span>:</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;                    self.<a class="code" href="classdfu_1_1intelhex_1_1_intel_hex.html#a17a85ac2e18cbf0070840dbf05f83909">start_addr</a> = other.start_addr</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;<span class="comment">#/IntelHex</span></div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div>
</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a50cb31fd4d4a685637c45c58a5e38c2a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">fromfile = <a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html#a7a6a932234ba78adfbb18ee6d0e61c4d">loadfile</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00249">249</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

</div>
</div>
<a class="anchor" id="a617e63465d49ca090d265e7030dd1296"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">padding</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00071">71</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

</div>
</div>
<a class="anchor" id="a17a85ac2e18cbf0070840dbf05f83909"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">start_addr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00073">73</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

</div>
</div>
<a class="anchor" id="ad0891b11c70fe680c2e2d118eac9eaf5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_buf</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00076">76</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

</div>
</div>
<a class="anchor" id="a4df0f629da4835d4bea4b21038c7ecfe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_offset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="intelhex_8py_source.html#l00077">77</a> of file <a class="el" href="intelhex_8py_source.html">intelhex.py</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>nrf51_beacon/ble_app_beacon_dfu/ble_dfu_send_hex/dfu/<a class="el" href="intelhex_8py_source.html">intelhex.py</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacedfu.html">dfu</a></li><li class="navelem"><a class="el" href="namespacedfu_1_1intelhex.html">intelhex</a></li><li class="navelem"><a class="el" href="classdfu_1_1intelhex_1_1_intel_hex.html">IntelHex</a></li>
    <li class="footer">Generated on Mon Apr 13 2015 11:33:12 for nRF51822 Beacon Firmware Documentation by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
